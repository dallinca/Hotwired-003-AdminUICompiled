(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0b69":function(e,s,t){"use strict";t.r(s);var a=t("7a23"),o={class:"component-padding"},r={class:"form"},n=Object(a["g"])("h1",{class:"form__title"},"Login",-1),i={class:"form__field"},c=Object(a["g"])("label",null,"Email",-1),l={class:"form__field"},u=Object(a["g"])("label",null,"Password",-1),d=["type"],p={class:"form__field form__field--checkbox"},m=Object(a["g"])("label",{for:"showPassword"},"Show password",-1),f={class:"form__field--three form__field--center"},b={key:0,class:"form__messages"};function h(e,s,t,h,w,_){var g=this;return Object(a["w"])(),Object(a["f"])("section",o,[Object(a["g"])("div",r,[n,Object(a["g"])("div",i,[c,Object(a["N"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=function(s){return e.email=s}),placeholder:"example@email.com"},null,512),[[a["K"],e.email]])]),Object(a["g"])("div",l,[u,Object(a["N"])(Object(a["g"])("input",{type:_.passwordFieldType,"onUpdate:modelValue":s[1]||(s[1]=function(s){return e.password=s}),placeholder:"super secret password"},null,8,d),[[a["J"],e.password]])]),Object(a["g"])("div",p,[Object(a["N"])(Object(a["g"])("input",{id:"showPassword",type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=function(s){return e.showPassword=s})},null,512),[[a["I"],e.showPassword]]),m]),Object(a["g"])("div",f,[Object(a["g"])("input",{class:"form__actions__submit",type:"button",value:"Submit",onClick:s[3]||(s[3]=function(){return _.submit&&_.submit.apply(_,arguments)})}),Object(a["g"])("input",{class:"form__actions__cancel",type:"button",value:"Cancel",onClick:s[4]||(s[4]=function(){return _.cancel&&_.cancel.apply(_,arguments)})}),Object(a["g"])("input",{class:"form__actions__forgotPassword",type:"button",value:"Forgot Password",onClick:s[5]||(s[5]=function(e){return g.$router.push({path:"ForgotPassword"})})})]),e.messages.length?(Object(a["w"])(),Object(a["f"])("div",b,[(Object(a["w"])(!0),Object(a["f"])(a["a"],null,Object(a["C"])(e.messages,(function(e){return Object(a["w"])(),Object(a["f"])("div",{key:e,class:Object(a["r"])(["form__messages__message",{form__messages__error:"error"==e.type,form__messages__success:"success"==e.type,form__messages__warn:"warn"==e.type}])},[Object(a["g"])("span",null,Object(a["G"])(e.message),1)],2)})),128))])):Object(a["e"])("",!0)])])}var w=t("a6ea"),_={name:"login",data:function(){return{email:"",password:"",showPassword:!1,messages:[]}},computed:{passwordFieldType:function(){return this.showPassword?"text":"password"}},methods:{submit:function(){var e=window.__HW__.utils.formatBodyParams({email:this.email,password:this.password}),s=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(0==this.readyState);else if(1==this.readyState);else if(2==this.readyState);else if(3==this.readyState);else if(4==this.readyState){var e=JSON.parse(this.responseText);if(!this.responseText||!e)return void s.$store.dispatch(w["b"],{message:"Error - Please contact your system administrator"});if(200!=this.status)return s.$store.dispatch(w["e"]),void s.$store.dispatch(w["d"],{message:e.message});200==this.status&&(s.$store.dispatch({type:w["f"],newToken:e.token}),s.$store.dispatch(w["c"],{message:e.message}),s.cleanup(),s.$router.push({path:"Profile"}))}},t.open("POST","/api/v1/admin/user/auth/login",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(e)},cancel:function(){this.$emit("cancel"),this.cleanup()},forgotPassword:function(){this.email||this.messages.push({type:"error",message:"Need to supply an email!"})},cleanup:function(){this.email="",this.password=""}}},g=t("6b0d"),O=t.n(g);const j=O()(_,[["render",h]]);s["default"]=j}}]);
//# sourceMappingURL=login.f12f54a8.js.map