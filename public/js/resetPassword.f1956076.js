(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["resetPassword"],{"690d":function(e,t,s){"use strict";s.r(t);var a=s("7a23"),o={class:"component-padding"},i={class:"form"},r=Object(a["g"])("h1",{class:"form__title"},"Reset Password",-1),n={class:"form__field"},c=Object(a["g"])("label",null,"Email",-1),l={class:"form__field--two form__field--left"},d={key:0,class:"form__field"},u=Object(a["g"])("label",null,"New Password",-1),m=["type"],f={key:1,class:"form__field form__field--checkbox"},p=Object(a["g"])("label",{for:"checkbox"},"Show Password",-1),h={key:2,class:"form__field--two form__field--center"},w={key:3,class:"form__messages"};function b(e,t,s,b,_,O){return Object(a["w"])(),Object(a["f"])("section",o,[Object(a["g"])("div",i,[r,Object(a["g"])("div",n,[c,Object(a["N"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.email=t}),placeholder:"example@email.com"},null,512),[[a["K"],e.email]])]),Object(a["g"])("div",l,[Object(a["g"])("input",{class:"form__actions__submit",type:"button",value:"Send Code",onClick:t[1]||(t[1]=function(){return O.sendEmailVerificationCode&&O.sendEmailVerificationCode.apply(O,arguments)})}),e.showFullForm?Object(a["e"])("",!0):(Object(a["w"])(),Object(a["f"])("input",{key:0,class:"form__actions__submit",type:"button",value:"I have my Code",onClick:t[2]||(t[2]=function(){return O.hasCode&&O.hasCode.apply(O,arguments)})})),e.showFullForm?Object(a["N"])((Object(a["w"])(),Object(a["f"])("input",{key:1,class:"",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.emailVerificationCode=t}),placeholder:"000000"},null,512)),[[a["K"],e.emailVerificationCode]]):Object(a["e"])("",!0)]),e.showFullForm?(Object(a["w"])(),Object(a["f"])("div",d,[u,Object(a["N"])(Object(a["g"])("input",{type:O.passwordFieldType,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.password=t}),placeholder:"super secret password"},null,8,m),[[a["J"],e.password]])])):Object(a["e"])("",!0),e.showFullForm?(Object(a["w"])(),Object(a["f"])("div",f,[Object(a["N"])(Object(a["g"])("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.showPassword=t})},null,512),[[a["I"],e.showPassword]]),p])):Object(a["e"])("",!0),e.showFullForm?(Object(a["w"])(),Object(a["f"])("div",h,[Object(a["g"])("input",{class:"form__actions__submit",type:"button",value:"Reset Password",onClick:t[6]||(t[6]=function(){return O.submit&&O.submit.apply(O,arguments)})}),Object(a["g"])("input",{class:"form__actions__cancel",type:"button",value:"Cancel",onClick:t[7]||(t[7]=function(){return O.cancel&&O.cancel.apply(O,arguments)})})])):Object(a["e"])("",!0),e.messages.length?(Object(a["w"])(),Object(a["f"])("div",w,[(Object(a["w"])(!0),Object(a["f"])(a["a"],null,Object(a["C"])(e.messages,(function(e){return Object(a["w"])(),Object(a["f"])("div",{key:e,class:Object(a["r"])(["form__messages__message",{form__messages__error:"error"==e.type,form__messages__success:"success"==e.type,form__messages__warn:"warn"==e.type}])},[Object(a["g"])("span",null,Object(a["G"])(e.message),1)],2)})),128))])):Object(a["e"])("",!0)])])}var _=s("a6ea"),O={name:"resetPassword",data:function(){return{email:"",emailVerificationCode:"",showFullForm:!1,password:"",showPassword:!1,messages:[]}},computed:{passwordFieldType:function(){return this.showPassword?"text":"password"},token:function(){return this.$store.getters.authToken}},watch:{},created:function(){this.redirectToLogin()},methods:{redirectToLogin:function(){this.token||this.$router.push({path:"ForgotPassword"})},submit:function(){var e=window.__HW__.utils.formatBodyParams({email:this.email,emailVerificationCode:this.emailVerificationCode,password:this.password}),t=this,s=new XMLHttpRequest;s.onreadystatechange=function(){if(0==this.readyState);else if(1==this.readyState);else if(2==this.readyState);else if(3==this.readyState);else if(4==this.readyState){var e=JSON.parse(this.responseText);if(!this.responseText||!e)return void t.$store.dispatch(_["b"],{message:"Error - Please contact your system administrator"});if(200!=this.status)return void t.$store.dispatch(_["d"],{message:e.message});200==this.status&&(t.$store.dispatch(_["c"],{message:e.message}),t.cleanup())}},s.open("POST","/api/v1/admin/user/auth/resetPassword",!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(e)},cancel:function(){this.$emit("cancel"),this.cleanup()},hasCode:function(){this.showFullForm=!this.showFullForm},cleanup:function(){this.email="",this.emailVerificationCode="",this.password=""},sendEmailVerificationCode:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(0==this.readyState);else if(1==this.readyState);else if(2==this.readyState);else if(3==this.readyState);else if(4==this.readyState){var t=JSON.parse(this.responseText);if(!this.responseText||!t)return void e.$store.dispatch(_["b"],{message:"Error - Please contact your system administrator"});if(200!=this.status)return void e.$store.dispatch(_["d"],{message:t.message});200==this.status&&e.$store.dispatch(_["c"],{message:t.message})}},t.open("POST","/api/v1/admin/user/email/sendOwnEmailVerificationCode",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.setRequestHeader("x-access-token",this.token),t.send()}}},j=s("6b0d"),y=s.n(j);const g=y()(O,[["render",b]]);t["default"]=g}}]);
//# sourceMappingURL=resetPassword.f1956076.js.map